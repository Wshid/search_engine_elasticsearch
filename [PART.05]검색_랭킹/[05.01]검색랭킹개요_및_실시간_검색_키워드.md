## 05.01. 검색랭킹개요(검색 결과의 중요성과 사례) 및 실시간 검색 키워드(트랜딩 결과 부스트)

### Ranking and Relevance
- 검색 결과의 순서 -> 랭킹
- 검색 결과를 돌려줄 때
  - 제일 `Relevant`한 문서를 먼저 돌려주는 것
- 사용자의 의도 파악
- 랭킹 시스템은 `score`와 같이 점수를 매기는 방식으로 동작
  - 하나의 숫자를 사용하는 이유
    - 간편함, 정렬하기 편함
    - 검색 시스템을 통해 **병행**적으로 문서들을 가져왔을 때
      - 매우 빠르게, 어떤 문서가 `높은 Relevance`를 가졌는지 `score`를 통해 처리 가능하기 때문
- 보통 문서 정렬은 각 `컬렉션 분석시스템`에서 진행
- **분석 시스템**이 중앙에서 결과를 정렬하기 전부터
  - 먼저 제일 중요한 문서가 무엇인지 정렬해둔다면
  - 차후 정렬 시간이 단축됨
- **분산적인 merge sort system**
  - 각 컬렉션 분석 시스템들이 알아서 `merge sort`를 하고
  - 필요한 top n을 가져온 뒤
  - 그 결과들을 **중앙 sorting/ranking system**에서 `merge sort`
    - `O(n)`정도의 속도를 가질 수 있음
- 정렬 자체를 `insQuery`나 `Polynomial` 방식으로 하지 않고,
  - `linear`한 스케일에 정렬 가능
- 따라서 문서의 수가 `million, billion`에 상관 없이
  - 매우 빠른 속도의 `relevant`한 문서 리턴 가능
- 이로써 `score`는
  - `uniform`하고 `universe`한 하나의 수치로 결정됨
  - elasticsearch와 같은 `search engine`들도 마찬가지

### User's Intent
- e.g. '데이지'에 대한 검색
  - 꽃의 정보
  - 데이지라는 문서
  - 데이지 관련 뉴스
- 다양한 검색 니즈가 있음
- 어떤 의도로 검색 했을지 **추론**은 가능
  - `데이지` 단일 검색: `데이지`가 매우 중요한 의미
  - `데이지 부케` 검색: 꼭 `데이지`가 아니더라도 `부케`가 필요할 수 있음
- 다양한 방식의 접근
  - 문서 하나에 `데이지`가 많이 있다고 중요할까?
  - `데이지`라는 단어가 문서 어느 위치에 있는 것이 중요할까?
  - 데이지 관련 뉴스가 있다면 중요할까?

### Ask the user for intent
- 실시간 검색 결과를 활용
  - 사용자가 `데이지`검색시, 최근 타사용자들이 많이 검색한 결과와 연관있게 리턴
- 통합 검색
  - 여러가지 `index`를 찾아주는 검색
  - `index`마다 대상을 조회하여, 그 결과를 각각 보여줌
  - 사용자의 의도를 모를때 전체적으로 intent를 분산시켜 데이터 리턴